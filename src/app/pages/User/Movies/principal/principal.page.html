
<ion-header [translucent]="true">
	<ion-toolbar>
	  <ion-buttons slot="start">
		<ion-menu-button></ion-menu-button>
	  </ion-buttons>
	  <ion-buttons slot="secondary">
		<ion-button routerLink="/registrar">
			<ion-icon slot="icon-only" name="person-add-outline"></ion-icon>
		</ion-button>
	  </ion-buttons>
	  <ion-title> Cuenca Pelis+</ion-title>
	</ion-toolbar>
  </ion-header>

<ion-content>
	<ion-searchbar
		[(ngModel)]="searchTerm"
		(ionChange)="searchChanged($event)"
	></ion-searchbar>

	<ion-item>
		<ion-label>Select Searchtype</ion-label>
		<ion-select [(ngModel)]="type" (ionChange)="searchChanged($event)">
			<ion-select-option value="">All</ion-select-option>
			<ion-select-option value="movie">Movie</ion-select-option>
			<ion-select-option value="series">Series</ion-select-option>
			<ion-select-option value="episode">Episode</ion-select-option>
		</ion-select>
	</ion-item>

	<ion-list>
		<ion-item
			button
			*ngFor="let item of (results | async)"
			(click)="enviar(item.imdbID)"
			
		>
			<ion-avatar slot="start">
				<img [src]="item.Poster" *ngIf="item.Poster !== 'N/A'" />
			</ion-avatar>

			<ion-label text-wrap>
				<h3>{{ item.Title }}</h3>
				{{ item.Year }}
			</ion-label>

			<ion-icon
				slot="end"
				*ngIf="item.Type === 'movie'"
				name="videocam-outline"
			></ion-icon>
			<ion-icon slot="end" *ngIf="item.Type === 'series'" name="tv-outline"></ion-icon>
			<ion-icon
				slot="end"
				*ngIf="item.Type === 'game'"
				name="logo-game-controller-outline"
			></ion-icon>
		</ion-item>
	</ion-list>
</ion-content>
